<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>ブランチをMergeする前にbaseブランチの履歴が進んでいないかを確認するスクリプトを書いた</title>
  <meta name="description" content="チームで開発していると復数のブランチが切られますが、きちんとマージを重ねていかないとリリース事故などのトラブルに繋がり兼ねません。それを少しでも防ぐためのスクリプトを書いて運用している話を書きました。">
  
  <meta name="author" content="aloerina">
  <meta name="copyright" content="&copy; aloerina 2024">
  
  <meta name="google-site-verification" content="FEbLKzXnOoXdy4JCrf6UntpqxWuuK8umvUEhILj8IU8" />
  <link rel="manifest" href="/manifest.json">
  <!-- External libraries -->
  <link rel="stylesheet" as="style" href="/css/prism.css">
  
  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="109x109" href="/assets/icons/favicon 1ldpi.png">
  <link rel="apple-touch-icon" sizes="146x146" href="/assets/icons/favicon 1mdpi.png">
  <link rel="apple-touch-icon" sizes="218x218" href="/assets/icons/favicon 1hdpi.png">
  <link rel="apple-touch-icon" sizes="290x290" href="/assets/icons/favicon 1xhdpi.png">
  <link rel="apple-touch-icon" sizes="435x435" href="/assets/icons/favicon 1xxhdpi.png">
  <link rel="apple-touch-icon" sizes="580x580" href="/assets/icons/favicon 1xxxhdpi.png">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/favicon 1mdpi.png">
  <meta name="theme-color" content="#546E7A">
  <meta name="apple-mobile-web-app-title" content="mf-code">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <!-- Facebook OGP cards -->
  <meta property="og:description" content="チームで開発していると復数のブランチが切られますが、きちんとマージを重ねていかないとリリース事故などのトラブルに繋がり兼ねません。それを少しでも防ぐためのスクリプトを書いて運用している話を書きました。" />
  <meta property="og:url" content="https://aloerina01.github.io/blog/2018-06-15-1" />
  <meta property="og:site_name" content="mille-feuille code" />
  <meta property="og:title" content="ブランチをMergeする前にbaseブランチの履歴が進んでいないかを確認するスクリプトを書いた" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://aloerina01.github.io/assets/logo_whitebg.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="612" />
  <meta property="og:image:height" content="605" />
  

  
  <!-- Twitter: card tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="ブランチをMergeする前にbaseブランチの履歴が進んでいないかを確認するスクリプトを書いた">
  <meta name="twitter:description" content="チームで開発していると復数のブランチが切られますが、きちんとマージを重ねていかないとリリース事故などのトラブルに繋がり兼ねません。それを少しでも防ぐためのスクリプトを書いて運用している話を書きました。">
  <meta name="twitter:image" content="https://aloerina01.github.io/assets/logo_whitebg.png">
  <meta name="twitter:url" content="https://aloerina01.github.io/blog/2018-06-15-1">
  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://aloerina01.github.io/blog/2018-06-15-1">
  <link rel="alternate" type="application/rss+xml" title="mille-feuille code" href="https://aloerina01.github.io/feed.xml" />

  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-39630080-4', 'auto');
    ga('require', 'linkid');
    ga('send', 'pageview', {
      'page': '/blog/2018-06-15-1',
      'title': 'ブランチをMergeする前にbaseブランチの履歴が進んでいないかを確認するスクリプトを書いた'
    });
  </script>
  

  

  <script src="/dist/prism.js" defer></script>
</head>


<body>

  <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <picture>
        <source src="/assets/logo.webp" type="image/webp"> 
        <img src="/assets/logo_min.png" alt="mille-feuille code" loading="lazy">
      </picture>
      
    </a>
    <a class="navigation-menu-button" id="js-mobile-menu-icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
      </svg>
    </a>
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu">
        <li class="nav-search-box">
          <div class="aa-input-container" id="aa-input-container">
            <input type="search" id="aa-search-input" class="aa-input-search" placeholder="" name="search" autocomplete="off" />
            <svg class="aa-input-icon" viewBox="654 -372 1664 1664">
                <path d="M1806,332c0-123.3-43.8-228.8-131.5-316.5C1586.8-72.2,1481.3-116,1358-116s-228.8,43.8-316.5,131.5  C953.8,103.2,910,208.7,910,332s43.8,228.8,131.5,316.5C1129.2,736.2,1234.7,780,1358,780s228.8-43.8,316.5-131.5  C1762.2,560.8,1806,455.3,1806,332z M2318,1164c0,34.7-12.7,64.7-38,90s-55.3,38-90,38c-36,0-66-12.7-90-38l-343-342  c-119.3,82.7-252.3,124-399,124c-95.3,0-186.5-18.5-273.5-55.5s-162-87-225-150s-113-138-150-225S654,427.3,654,332  s18.5-186.5,55.5-273.5s87-162,150-225s138-113,225-150S1262.7-372,1358-372s186.5,18.5,273.5,55.5s162,87,225,150s113,138,150,225  S2062,236.7,2062,332c0,146.7-41.3,279.7-124,399l343,343C2305.7,1098.7,2318,1128.7,2318,1164z" />
            </svg>
          </div>
        </li>
         
        <li class="nav-link">
          <a href="https://note.com/aloerina/m/m699d10700993"target="_blank" rel="noopener noreferrer">Poem</a>
            
        <li class="nav-link">
          <a href="https://suzuri.jp/aloerina"target="_blank" rel="noopener noreferrer">Shop</a>
            
        <li class="nav-link">
          <a href="https://goo.gl/forms/VKcqNYwtEjDUNyN92"target="_blank" rel="noopener noreferrer">Contact</a>
            
        <li class="nav-link">
          <a href="/feed.xml"target="_blank" rel="noopener noreferrer">RSS</a>
           
      </ul>
    </nav>
    <div class="breadcrumbs" style="display:none">
      <ol itemscope itemtype="http://schema.org/BreadcrumbList">
        <li itemscope itemprop="itemListElement" itemtype="http://schema.org/ListItem">
          <a itemprop="item" href="https://aloerina01.github.io/">
            <span itemprop="name">mille-feuille code</span>
          </a>
          <meta itemprop="position" content="1" />
        </li>
        
        <li itemscope itemprop="itemListElement" itemtype="http://schema.org/ListItem">
          <a itemprop="item" href="https://aloerina01.github.io/blogs">
            <span itemprop="name">記事</span>
          </a>
          <meta itemprop="position" content="2" />
        </li>
        
        
        <li itemscope itemprop="itemListElement" itemtype="http://schema.org/ListItem">
          <a itemprop="item" href="https://aloerina01.github.io/blog/2018-06-15-1">
            <span itemprop="name">ブランチをMergeする前にbaseブランチの履歴が進んでいないかを確認するスクリプトを書いた</span>
            </a>
          <meta itemprop="position" content="3" />
        </li>
        
        </ol>
    </div>
  </div>
</header>

  <main class="page-content">
    <div class="post">
      <div class="post-header-container " >
        <div class="scrim ">
          <header class="post-header">
            <h1 class="title">ブランチをMergeする前にbaseブランチの履歴が進んでいないかを確認するスクリプトを書いた</h1>
            <!-- <p class="info">by <strong></strong></p> -->
          </header>
        </div>
      </div>
      <div class="wrapper">
         <span class="page-divider">
  <span class="one"></span>
  <span class="two"></span>
</span>
 
        <section class="post-meta">
          <div class="post-date">2018-06-15</div>
          <div class="post-categories">
            
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="post-categories-icon" viewBox="0 0 16 16">
              <path d="M6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-1 0a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0z"/>
              <path d="M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1zm0 5.586l7 7L13.586 9l-7-7H2v4.586z"/>
            </svg>
             
            <a href="/category/shell/">shell</a>,    
            <a href="/category/environment/">Environment</a>   
          </div>
        </section>

        <article class="post-content">
          <p>git-flowで運用していると、releaseブランチとhotfixブランチなど複数のブランチからリリースが行われるケースがあります。その場合リリースされたものを次のreleaseブランチにきちんと反映しないと、ソースが巻き戻ってしまう事故に繋がります。</p>

<p><img src="/assets/2018-06-15-1-main.jpg" alt="flow図" />
(あくまでイメージ図です、developブランチなどの詳細は省略しています)</p>

<p>私の業務ではgit-flowを少しカスタマイズした運用をしています。なのでまさに上図のように<strong>hotfixブランチをreleaseブランチに反映し忘れる</strong>問題を起こしてしまうことがありました。これを防ぐための方法はいろいろありますが、今回は<strong>「releaseブランチとmasterブランチが枝分かれしたコミット」</strong>と<strong>「最新のmasterブランチのコミット」</strong>を比較し結果を教えてくれるスクリプトを用意してみました。</p>

<p>以下のような使用を想定しています。</p>

<ul>
  <li>CIに仕込み、releaseブランチのPull Requestに結果をコメントさせる</li>
  <li>slack botに仕込み、定期的に結果を通知する</li>
</ul>

<h3 id="実装">実装</h3>

<h4 id="全体の構成">全体の構成</h4>

<ol>
  <li>masterブランチ(baseとなるブランチ)の最新コミットの<code class="language-plaintext highlighter-rouge">commit id</code>を取得する</li>
  <li>ターゲットとなるブランチとmasterブランチ(baseとなるブランチ)が枝分かれした<code class="language-plaintext highlighter-rouge">commit id</code>を取得する</li>
  <li>それらを比較し、差分がないかどうかを判定する</li>
  <li>CIから実行された場合は判定結果をPull Requestにコメントする</li>
</ol>

<h4 id="ソース">ソース</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="nb">set</span> <span class="nt">-e</span>

<span class="nv">text_color_red</span><span class="o">=</span><span class="s2">"</span><span class="se">\0</span><span class="s2">33[37;41;1m"</span>
<span class="nv">text_color_green</span><span class="o">=</span><span class="s2">"</span><span class="se">\0</span><span class="s2">33[37;42;1m"</span>
<span class="nv">text_color_reset</span><span class="o">=</span><span class="s2">"</span><span class="se">\0</span><span class="s2">33[0m"</span>

<span class="c"># 第1引数にチェック対象のbranch</span>
<span class="nv">target_branch</span><span class="o">=</span><span class="nv">$1</span>
<span class="c"># 第2引数に比較対象のbranch、指定がなければmasterとする</span>
<span class="nv">base_branch</span><span class="o">=</span><span class="k">${</span><span class="nv">2</span><span class="k">:-</span><span class="nv">master</span><span class="k">}</span>

git fetch

<span class="c"># base_branchの最新のcommitを取得する</span>
<span class="nv">latest_commit</span><span class="o">=</span><span class="si">$(</span>git log origin/<span class="nv">$base_branch</span> <span class="nt">-n</span> 1 | <span class="nb">head</span> <span class="nt">-1</span> | <span class="nb">sed</span> <span class="nt">-e</span> <span class="s2">"s/commit </span><span class="se">\(</span><span class="s2">.*</span><span class="nv">$\</span><span class="s2">)/</span><span class="se">\1</span><span class="s2">/"</span><span class="si">)</span>
<span class="c"># target_branchがbase_branchのどのcommitから枝分かれしたのかを調べる</span>
<span class="nv">base_commit</span><span class="o">=</span><span class="si">$(</span>git show-branch <span class="nt">--merge-base</span> origin/<span class="nv">$target_branch</span> origin/<span class="nv">$base_branch</span> | <span class="nb">head</span> <span class="nt">-1</span><span class="si">)</span>

<span class="nb">echo</span> <span class="s2">"latest commit: </span><span class="si">$(</span>git log <span class="nv">$latest_commit</span> <span class="nt">--oneline</span> | <span class="nb">head</span> <span class="nt">-1</span><span class="si">)</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="s2">"based  commit: </span><span class="si">$(</span>git log <span class="nv">$base_commit</span> <span class="nt">--oneline</span> | <span class="nb">head</span> <span class="nt">-1</span><span class="si">)</span><span class="s2">"</span>

<span class="c"># 「base_branchの最新commit」と「枝分かれしたcommit」を比較</span>
<span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$latest_commit</span><span class="s2">"</span> <span class="o">=</span> <span class="s2">"</span><span class="nv">$base_commit</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nv">comment</span><span class="o">=</span><span class="s2">"最新の</span><span class="nv">$base_branch</span><span class="s2">が取り込まれています"</span>
  <span class="nv">icon</span><span class="o">=</span><span class="s2">"✅ "</span>
  <span class="nv">event</span><span class="o">=</span><span class="s2">"APPROVE"</span>
  <span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="k">${</span><span class="nv">text_color_green</span><span class="k">}${</span><span class="nv">comment</span><span class="k">}${</span><span class="nv">text_color_reset</span><span class="k">}</span><span class="s2">"</span>
<span class="k">else
  </span><span class="nv">comment</span><span class="o">=</span><span class="s2">"</span><span class="nv">$base_branch</span><span class="s2">が進んでいる可能性があります"</span>
  <span class="nv">icon</span><span class="o">=</span><span class="s2">"🚫 "</span>
  <span class="nv">event</span><span class="o">=</span><span class="s2">"REQUEST_CHANGES"</span>
  <span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="k">${</span><span class="nv">text_color_red</span><span class="k">}${</span><span class="nv">comment</span><span class="k">}${</span><span class="nv">text_color_reset</span><span class="k">}</span><span class="s2">"</span>
<span class="k">fi</span>

<span class="c"># CIによる実行でなければここで終了</span>
<span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$CI</span><span class="s2">"</span> <span class="o">==</span> <span class="nb">false</span> <span class="o">]</span> <span class="o">||</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$CI</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">exit </span>0
<span class="k">fi</span>

<span class="c"># 該当のPull Requestを取得できているか確認する</span>
<span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$CI_PULL_REQUEST</span><span class="s2">"</span> <span class="o">==</span> <span class="nb">false</span> <span class="o">]</span> <span class="o">||</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$CI_PULL_REQUEST</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s1">'Fail to find a pull request.'</span> <span class="o">&amp;&amp;</span> <span class="nb">exit </span>0
<span class="k">fi
</span><span class="nv">pr_number</span><span class="o">=</span><span class="si">$(</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">CI_PULL_REQUEST</span><span class="k">}</span> | <span class="nb">sed</span> <span class="nt">-e</span> <span class="s2">"s/^.*pull</span><span class="se">\/\(</span><span class="s2">.*</span><span class="nv">$\</span><span class="s2">)/</span><span class="se">\1</span><span class="s2">/"</span><span class="si">)</span>

<span class="c"># 結果をPull RequestにReviewとしてコメントする</span>
curl <span class="nt">-XPOST</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: token </span><span class="nv">$GITHUB_ACCESS_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">body</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="nv">$icon$comment</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">event</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="nv">$event</span><span class="se">\"</span><span class="s2">}"</span> <span class="se">\</span>
 https://github.com/api/v3/repos/<span class="nv">$CIRCLE_PROJECT_USERNAME</span>/<span class="nv">$CIRCLE_PROJECT_REPONAME</span>/pulls/<span class="nv">$pr_number</span>/reviews
</code></pre></div></div>

<p>(CircleCIを使う前提で変数を定義しています)</p>

<p>ソースは<a href="https://github.com/aloerina01/check-master-history">GitHub</a>でも公開しています。</p>

<h4 id="感想">感想</h4>

<h5 id="ログに色をつけたらいい感じでした">ログに色をつけたらいい感じでした</h5>
<p>ログを読みやすくしたくて文字色や背景色を変えています。色属性を変数化したら、ログの見やすさもコードの見やすさもいい感じでした。<a href="https://qiita.com/dojineko/items/49aa30018bb721b0b4a9">こちらの記事</a>の色見本帳がとても便利で感謝です。</p>

<h5 id="head-と-tail-が便利で乱用しました">head と tail が便利で乱用しました</h5>

<p><code class="language-plaintext highlighter-rouge">head -n</code>は<strong>入力の冒頭からn行を抽出し出力する</strong>コマンドです。<code class="language-plaintext highlighter-rouge">git log</code>や<code class="language-plaintext highlighter-rouge">git show-branch</code>は複数に渡り情報が表示されるので、head/tailを使うと最新/最古の情報を抽出できて便利でした。</p>

<h5 id="sedも便利で乱用しました">sedも便利で乱用しました</h5>

<p><code class="language-plaintext highlighter-rouge">sed</code>は<strong>入力をコマンドに従って処理し出力する</strong>コマンドです。今回は<code class="language-plaintext highlighter-rouge">sed -e s/置換前/置換後</code>として文字列を置換します。置換前で<code class="language-plaintext highlighter-rouge">()</code>に入れた部分(グループ化した部分)を、置換後に<code class="language-plaintext highlighter-rouge">\1(特殊変数)</code>で抜き出しています。これが便利すぎて、入力から一部の文字列を切りとって出力する場面では乱用してしまいます。</p>

<h5 id="そこそこ活躍するスクリプトになりました">そこそこ活躍するスクリプトになりました</h5>

<p>Merge漏れ事故の対策は他にもいろいろ案がある中、諸々の事情により一旦の場しのぎとして作った程度でしたが、そこそこ活躍しているようで作った甲斐がありました。shellを書く機会があまりないので、作ること自体も楽しめました。</p>

<p>現場からの報告は以上です。引き続きよろしくお願いします。</p>

        </article>

          

        <section class="share">
  <div class="share-inner">
    <div class="share-description">
      <span>感想をシェアする</span>
    </div>
    <div class="share-panel">
      <a
        href="http://b.hatena.ne.jp/entry/"
        class="hatena-bookmark-button share-button share-button-hatebu"
        data-hatena-bookmark-layout="touch"
        data-hatena-bookmark-width="38"
        data-hatena-bookmark-height="38"
        title="このエントリーをはてなブックマークに追加"
        style="
          border-radius: 50%;
          width: 38px;
          height: 38px;
          box-shadow: 1px 1px 10px #bbb;
          background-color: #00a4de;
          transition: all 0.4s ease;
        "
      >
        <img
          src="https://b.st-hatena.com/images/entry-button/button-only@2x.png"
          alt="このエントリーをはてなブックマークに追加"
          width="16"
          height="16"
        />
      </a>
      <script
        type="text/javascript"
        src="https://b.st-hatena.com/js/bookmark_button.js"
        charset="utf-8"
        defer
      ></script>
        
      <a
        class="share-button share-button-x"
        href="//twitter.com/share?text=%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E3%82%92Merge%E3%81%99%E3%82%8B%E5%89%8D%E3%81%ABbase%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E3%81%AE%E5%B1%A5%E6%AD%B4%E3%81%8C%E9%80%B2%E3%82%93%E3%81%A7%E3%81%84%E3%81%AA%E3%81%84%E3%81%8B%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%82%92%E6%9B%B8%E3%81%84%E3%81%9F&url=https://aloerina01.github.io/blog/2018-06-15-1&via=aloerina_&hashtags=shell,Environment,mfcode"
        onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;"
      >
        <svg
          version="1.1"
          id="svg5"
          xmlns:svg="http://www.w3.org/2000/svg"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="0 0 1668.56 1221.19"
          style="enable-background: new 0 0 1668.56 1221.19"
          xml:space="preserve"
          width="38"
          height="38"
        >
          <style type="text/css">
            .st0 {
              stroke: #ffffff;
              stroke-miterlimit: 10;
            }
            .st1 {
              fill: #ffffff;
            }
          </style>
          <g>
            <g id="layer1" transform="translate(52.390088,-25.058597)">
              <path
                id="path1009"
                class="st1"
                d="M485.39,356.79l230.07,307.62L483.94,914.52h52.11l202.7-218.98l163.77,218.98h177.32
                L836.82,589.6l215.5-232.81h-52.11L813.54,558.46L662.71,356.79H485.39z M562.02,395.17h81.46l359.72,480.97h-81.46L562.02,395.17
                z"
              />
            </g>
          </g>
        </svg>
      </a>
                
      <a
        class="share-button share-button-facebook"
        href="//www.facebook.com/sharer.php?t=%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E3%82%92Merge%E3%81%99%E3%82%8B%E5%89%8D%E3%81%ABbase%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E3%81%AE%E5%B1%A5%E6%AD%B4%E3%81%8C%E9%80%B2%E3%82%93%E3%81%A7%E3%81%84%E3%81%AA%E3%81%84%E3%81%8B%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%82%92%E6%9B%B8%E3%81%84%E3%81%9F&u=https://aloerina01.github.io/blog/2018-06-15-1"
        onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;"
      >
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M9.19795 21.5H13.198V13.4901H16.8021L17.198 9.50977H13.198V7.5C13.198 6.94772 13.6457 6.5 14.198 6.5H17.198V2.5H14.198C11.4365 2.5 9.19795 4.73858 9.19795 7.5V9.50977H7.19795L6.80206 13.4901H9.19795V21.5Z"
            fill="currentColor"
          />
        </svg>
      </a>
                                                                                                                                        
      <a
        class="share-button share-button-pocket"
        href="//getpocket.com/edit?url=https://aloerina01.github.io/blog/2018-06-15-1"
        target="_blank"
      >
        <img src="/assets/thirdparty/pocket.png" alt="Save to Pocket" loading="lazy" />
      </a>
                
      <a
        class="share-button share-button-line"
        target="_blank"
        href="//line.me/R/msg/text/?%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E3%82%92Merge%E3%81%99%E3%82%8B%E5%89%8D%E3%81%ABbase%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E3%81%AE%E5%B1%A5%E6%AD%B4%E3%81%8C%E9%80%B2%E3%82%93%E3%81%A7%E3%81%84%E3%81%AA%E3%81%84%E3%81%8B%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%82%92%E6%9B%B8%E3%81%84%E3%81%9F%0D%0Ahttps%3A%2F%2Faloerina01.github.io%2Fblog%2F2018-06-15-1"
      >
        <img src="/assets/thirdparty/linebutton.png" alt="LINEで送る" loading="lazy" />
      </a>
       
    </div>
  </div>
</section>


        <section class="post-donation">
  <div class="post-donation-panel">
    <span class="post-donation-description">
      執筆時のコーヒーで応援する
    </span>
    <a class="donation-button" href="https://www.buymeacoffee.com/aloerina" target="_blank" rel="noopener noreferrer" onClick="ga('send', 'event', 'click_buymeacoffee', 'post')">
      <p class="button-body">
        <img class="icon" alt="buymeacoffee" src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg"></img>
        <span class="label">ごちそうする</span>
      </p>
    </a>
  </div>
</section>

         

      </div>
    </div>

  </main>

  
    <section class="sub-contents related-posts">
  <div class="sub-contents-wrapper">
    <div class="sub-contents-title">
      <h3>あわせて読みたい</h3>
      <hr>
    </div>
    <div class="sub-contents-main">
      
      <li><a href="/blog/2018-12-27-1">シェルスクリプト入門者のためのチェックリスト</a></li>
      
      <li><a href="/blog/2017-03-17-1">超軽量Viewライブラリ「Hyperapp」の日本語ドキュメント風の何か</a></li>
      
      <li><a href="/blog/2017-11-08-1">トラブルシューティングメモを晒してみる  webpack動的module編</a></li>
      
      <li><a href="/blog/2018-09-27-1">Vue.nextTickのコードリーディング</a></li>
      
      <li><a href="/blog/2018-07-01-1">WebフロントエンジニアがDart × Flutterに入門した話</a></li>
      
    </div>
  </div>
</section>

  

  <section class="sub-contents profile-bar">
  <div class="sub-contents-wrapper profile-bar-wrapper">
    <div class="sub-contents-title">
      <h3>Profile</h3>
      <hr>
    </div>
    <div class="sub-contents-main profile-bar-main">
      <div class="profile-image">
        <img src="/assets/profile_v4.jpg" alt="" loading="lazy">
      </div>
      <div class="profile-content">
        <div class="profile-content-name"><p>aloerina</p></div>
        <div class="profile-content-description">
          <p>
            <span>Webフロントエンド開発、エンジニアリングマネジメント、スクラムマスターなどをしています。趣味でドット絵グッズをつくっています。</span>
          </p>
        </div>
        <div class="profile-content-sns">
          <a target="_blank" href="https://twitter.com/aloerina_" rel="noopener noreferrer" class="sns-icon sns-icon-x">
            <svg xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 512 462.799"><path fill="#fff" fill-rule="nonzero" d="M403.229 0h78.506L310.219 196.04 512 462.799H354.002L230.261 301.007 88.669 462.799h-78.56l183.455-209.683L0 0h161.999l111.856 147.88L403.229 0zm-27.556 415.805h43.505L138.363 44.527h-46.68l283.99 371.278z"/></svg>
          </a>
          <a target="_blank" href="https://www.instagram.com/pixtrium/" rel="noopener noreferrer" class="sns-icon">
            <svg xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 512 512"><path fill="#fff" fill-rule="nonzero" d="M170.663 256.157c-.083-47.121 38.055-85.4 85.167-85.483 47.121-.092 85.407 38.03 85.499 85.16.091 47.129-38.047 85.4-85.176 85.492-47.112.09-85.399-38.039-85.49-85.169zm-46.108.091c.141 72.602 59.106 131.327 131.69 131.186 72.592-.141 131.35-59.09 131.209-131.692-.141-72.577-59.114-131.335-131.715-131.194-72.585.141-131.325 59.115-131.184 131.7zm237.104-137.091c.033 16.953 13.817 30.681 30.772 30.648 16.961-.033 30.689-13.811 30.664-30.764-.033-16.954-13.818-30.69-30.78-30.657-16.962.033-30.689 13.818-30.656 30.773zm-208.696 345.4c-24.958-1.087-38.511-5.234-47.543-8.709-11.961-4.629-20.496-10.178-29.479-19.094-8.966-8.95-14.532-17.46-19.202-29.397-3.508-9.032-7.73-22.569-8.9-47.527-1.269-26.982-1.559-35.077-1.683-103.432-.133-68.339.116-76.434 1.294-103.441 1.069-24.942 5.242-38.512 8.709-47.536 4.628-11.977 10.161-20.496 19.094-29.479 8.949-8.982 17.459-14.532 29.403-19.202 9.025-3.525 22.561-7.714 47.511-8.9 26.998-1.277 35.085-1.551 103.423-1.684 68.353-.132 76.448.108 103.456 1.295 24.94 1.086 38.51 5.217 47.527 8.709 11.968 4.628 20.503 10.144 29.478 19.094 8.974 8.95 14.54 17.443 19.21 29.412 3.524 9 7.714 22.553 8.892 47.494 1.285 26.999 1.576 35.095 1.7 103.433.132 68.355-.117 76.451-1.302 103.441-1.087 24.958-5.226 38.52-8.709 47.561-4.629 11.952-10.161 20.487-19.103 29.471-8.941 8.949-17.451 14.531-29.403 19.201-9.009 3.517-22.561 7.714-47.494 8.9-26.998 1.269-35.086 1.559-103.448 1.684-68.338.132-76.424-.125-103.431-1.294zM149.977 1.773c-27.239 1.285-45.843 5.648-62.101 12.018-16.829 6.561-31.095 15.354-45.286 29.604C28.381 57.653 19.655 71.944 13.144 88.79c-6.303 16.299-10.575 34.912-11.778 62.168C.172 178.264-.102 186.973.031 256.489c.133 69.508.439 78.234 1.741 105.547 1.302 27.231 5.649 45.828 12.019 62.093 6.569 16.83 15.353 31.088 29.611 45.288 14.25 14.201 28.55 22.918 45.404 29.438 16.282 6.295 34.902 10.583 62.15 11.778 27.305 1.203 36.022 1.468 105.521 1.335 69.532-.132 78.25-.439 105.555-1.733 27.239-1.303 45.826-5.665 62.1-12.019 16.829-6.586 31.095-15.353 45.288-29.611 14.191-14.251 22.917-28.55 29.428-45.405 6.304-16.282 10.592-34.903 11.777-62.134 1.195-27.322 1.478-36.048 1.344-105.556-.133-69.516-.447-78.225-1.741-105.523-1.294-27.255-5.657-45.844-12.019-62.118-6.577-16.829-15.352-31.079-29.602-45.287-14.25-14.192-28.55-22.935-45.404-29.429-16.29-6.305-34.903-10.601-62.15-11.779C333.747.164 325.03-.102 255.506.031c-69.507.133-78.224.431-105.529 1.742z"/></svg>
          </a>
          
        </div>
      </div>
    </div>
  </div>
</section>
  
  <section class="sub-contents tag-list">
  <div class="sub-contents-wrapper tag-list-wrapper">
    <div class="sub-contents-title">
      <h3>Tags</h3>
      <hr>
    </div>
    <div class="sub-contents-main">
      
        
        
        <a href="/category/jekyll/">Jekyll</a>
      
        
        
        <a href="/category/javascript/">JavaScript</a>
      
        
        
        <a href="/category/webpack/">Webpack</a>
      
        
        
        <a href="/category/environment/">Environment</a>
      
        
        
        <a href="/category/seo/">SEO</a>
      
        
        
        <a href="/category/qualityassurance/">QualityAssurance</a>
      
        
        
        <a href="/category/css/">CSS</a>
      
        
        
        <a href="/category/yarn/">Yarn</a>
      
        
        
        <a href="/category/react/">React</a>
      
        
        
        <a href="/category/vue/">Vue</a>
      
        
        
        <a href="/category/hyperapp/">Hyperapp</a>
      
        
        
        <a href="/category/vuex/">Vuex</a>
      
        
        
        <a href="/category/babel/">Babel</a>
      
        
        
        <a href="/category/exp/">EXP</a>
      
        
        
        <a href="/category/shell/">shell</a>
      
        
        
        <a href="/category/dart/">Dart</a>
      
        
        
        <a href="/category/flutter/">Flutter</a>
      
        
        
        <a href="/category/flux/">Flux</a>
      
        
        
        <a href="/category/algolia/">algolia</a>
      
        
        
        <a href="/category/mobprogramming/">MobProgramming</a>
      
        
        
        <a href="/category/management/">Management</a>
      
        
        
        <a href="/category/coaching/">Coaching</a>
      
        
        
        <a href="/category/grareco/">GraReco</a>
      
        
        
        <a href="/category/githubactions/">GitHubActions</a>
      
        
        
        <a href="/category/retrospective/">Retrospective</a>
      
        
        
        <a href="/category/facilitation/">Facilitation</a>
      
        
        
        <a href="/category/scrum/">Scrum</a>
      
        
        
        <a href="/category/psychologicalsafety/">PsychologicalSafety</a>
      
        
        
        <a href="/category/typescript/">TypeScript</a>
      
        
        
        <a href="/category/chromeextension/">ChromeExtension</a>
      
        
        
        <a href="/category/esbuild/">esbuild</a>
      
        
        
        <a href="/category/agile/">Agile</a>
      
    </div>
  </div>
</section>

  <section class="sub-contents donation">
  <div class="sub-contents-wrapper donation-wrapper">
    <h3>BUY ME A COFFEE</h3>
    <p class="donation-description">記事執筆時のコーヒーをごちそういただけると励みになります。</p>
    <div class="donation-button-area">
        <a class="donation-button" href="https://www.buymeacoffee.com/aloerina" target="_blank" rel="noopener noreferrer" onClick="ga('send', 'event', 'click_buymeacoffee', 'site')">
          <p class="button-body">
            <img class="icon" alt="buymeacoffee" src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" loading="lazy"></img>
            <span class="label">ごちそうする</span>
          </p>
        </a>
        <span>または<a href="https://kyash.co/" target="_blank" rel="noopener noreferrer">Kyash</a>で id: <b>aloerina</b> に送金する</span>
    </div>
  <div>
</section>
  
  <footer class="sub-contents site-footer-v2">
  <div class="sub-contents-wrapper site-footer-v2-wrapper">
    <div class="footer-v2-main">
      <div class="site-values">
        <a href="/" class="site-values-title">mille-feuille code</a>
        <p class="site-values-copyright">Copyright since 2016 aloerina All Rights Reserved.</p>
      </div>
      <div class="site-designs">
        <p>Published on <a target="_blank" href="https://github.com/aloerina01/aloerina01.github.io" rel="noopener noreferrer">GitHub</a></p>
      </div>
    </div>
  </div>
</footer>

  <script>
  window.addEventListener('DOMContentLoaded', function() {
    // Header
    var CLASS_MENU_SHOW = 'show';
    var navigationMenu = document.getElementById('js-navigation-menu');
    var menuIcon = document.getElementById('js-mobile-menu-icon');
    menuIcon.addEventListener('click', function(e) {
      e.preventDefault();
      navigationMenu.classList.toggle(CLASS_MENU_SHOW);
    });
  });
  </script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/algoliasearch/3.35.1/algoliasearch.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.1/autocomplete.min.js"></script>
<script src="/dist/algolia.js" async></script>

</body>

</html>