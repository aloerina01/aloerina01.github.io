<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>メンテナンスしやすいVueComponentを設計するために気をつけていること</title>
  <meta name="description" content="Vueを使ってサービスを作る際、Componentの切り方はアプリの設計に大きく影響します。読みやすく、バグりにくく、メンテナンスしやすいComponentを設計するにはどうすればよいか。MVVMと相性のいいComponent設計とはどういうものか。そんなことを考えて整理してみました。">
  
  <meta name="author" content="aloerina">
  <meta name="copyright" content="&copy; aloerina 2025">
  
  <meta name="google-site-verification" content="FEbLKzXnOoXdy4JCrf6UntpqxWuuK8umvUEhILj8IU8" />
  <link rel="manifest" href="/manifest.json">
  <!-- External libraries -->
  <link rel="stylesheet" as="style" href="/css/prism.css">
  
  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="109x109" href="/assets/icons/favicon 1ldpi.png">
  <link rel="apple-touch-icon" sizes="146x146" href="/assets/icons/favicon 1mdpi.png">
  <link rel="apple-touch-icon" sizes="218x218" href="/assets/icons/favicon 1hdpi.png">
  <link rel="apple-touch-icon" sizes="290x290" href="/assets/icons/favicon 1xhdpi.png">
  <link rel="apple-touch-icon" sizes="435x435" href="/assets/icons/favicon 1xxhdpi.png">
  <link rel="apple-touch-icon" sizes="580x580" href="/assets/icons/favicon 1xxxhdpi.png">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/favicon 1mdpi.png">
  <meta name="theme-color" content="#546E7A">
  <meta name="apple-mobile-web-app-title" content="mf-code">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <!-- Facebook OGP cards -->
  <meta property="og:description" content="Vueを使ってサービスを作る際、Componentの切り方はアプリの設計に大きく影響します。読みやすく、バグりにくく、メンテナンスしやすいComponentを設計するにはどうすればよいか。MVVMと相性のいいComponent設計とはどういうものか。そんなことを考えて整理してみました。" />
  <meta property="og:url" content="https://aloerina01.github.io/blog/2018-05-01-1" />
  <meta property="og:site_name" content="Feel and Code" />
  <meta property="og:title" content="メンテナンスしやすいVueComponentを設計するために気をつけていること" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://aloerina01.github.io/assets/logo_whitebg.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="612" />
  <meta property="og:image:height" content="605" />
  

  
  <!-- Twitter: card tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="メンテナンスしやすいVueComponentを設計するために気をつけていること">
  <meta name="twitter:description" content="Vueを使ってサービスを作る際、Componentの切り方はアプリの設計に大きく影響します。読みやすく、バグりにくく、メンテナンスしやすいComponentを設計するにはどうすればよいか。MVVMと相性のいいComponent設計とはどういうものか。そんなことを考えて整理してみました。">
  <meta name="twitter:image" content="https://aloerina01.github.io/assets/logo_whitebg.png">
  <meta name="twitter:url" content="https://aloerina01.github.io/blog/2018-05-01-1">
  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://aloerina01.github.io/blog/2018-05-01-1">
  <link rel="alternate" type="application/rss+xml" title="Feel and Code" href="https://aloerina01.github.io/feed.xml" />

  <meta name="algolia-site-verification"  content="72D549DE860CC566" />

  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-39630080-4', 'auto');
    ga('require', 'linkid');
    ga('send', 'pageview', {
      'page': '/blog/2018-05-01-1',
      'title': 'メンテナンスしやすいVueComponentを設計するために気をつけていること'
    });
  </script>
  

  

  <script src="/dist/prism.js" defer></script>
</head>


<body>

  <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <picture>
        <source src="/assets/logo.webp" type="image/webp"> 
        <img src="/assets/logo_min.png" alt="Feel and Code" loading="lazy">
      </picture>
      
    </a>
    <a class="navigation-menu-button" id="js-mobile-menu-icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
      </svg>
    </a>
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu">
        <li class="nav-search-box">
          <div class="aa-input-container" id="aa-input-container">
            <input type="search" id="aa-search-input" class="aa-input-search" placeholder="" name="search" autocomplete="off" />
            <svg class="aa-input-icon" viewBox="654 -372 1664 1664">
                <path d="M1806,332c0-123.3-43.8-228.8-131.5-316.5C1586.8-72.2,1481.3-116,1358-116s-228.8,43.8-316.5,131.5  C953.8,103.2,910,208.7,910,332s43.8,228.8,131.5,316.5C1129.2,736.2,1234.7,780,1358,780s228.8-43.8,316.5-131.5  C1762.2,560.8,1806,455.3,1806,332z M2318,1164c0,34.7-12.7,64.7-38,90s-55.3,38-90,38c-36,0-66-12.7-90-38l-343-342  c-119.3,82.7-252.3,124-399,124c-95.3,0-186.5-18.5-273.5-55.5s-162-87-225-150s-113-138-150-225S654,427.3,654,332  s18.5-186.5,55.5-273.5s87-162,150-225s138-113,225-150S1262.7-372,1358-372s186.5,18.5,273.5,55.5s162,87,225,150s113,138,150,225  S2062,236.7,2062,332c0,146.7-41.3,279.7-124,399l343,343C2305.7,1098.7,2318,1128.7,2318,1164z" />
            </svg>
          </div>
        </li>
         
        <li class="nav-link">
          <a href="https://note.com/aloerina/m/m699d10700993"target="_blank" rel="noopener noreferrer">Poem</a>
            
        <li class="nav-link">
          <a href="https://suzuri.jp/aloerina"target="_blank" rel="noopener noreferrer">Shop</a>
            
        <li class="nav-link">
          <a href="https://goo.gl/forms/VKcqNYwtEjDUNyN92"target="_blank" rel="noopener noreferrer">Contact</a>
            
        <li class="nav-link">
          <a href="/feed.xml"target="_blank" rel="noopener noreferrer">RSS</a>
           
      </ul>
    </nav>
    <div class="breadcrumbs" style="display:none">
      <ol itemscope itemtype="http://schema.org/BreadcrumbList">
        <li itemscope itemprop="itemListElement" itemtype="http://schema.org/ListItem">
          <a itemprop="item" href="https://aloerina01.github.io/">
            <span itemprop="name">Feel and Code</span>
          </a>
          <meta itemprop="position" content="1" />
        </li>
        
        <li itemscope itemprop="itemListElement" itemtype="http://schema.org/ListItem">
          <a itemprop="item" href="https://aloerina01.github.io/blogs">
            <span itemprop="name">記事</span>
          </a>
          <meta itemprop="position" content="2" />
        </li>
        
        
        <li itemscope itemprop="itemListElement" itemtype="http://schema.org/ListItem">
          <a itemprop="item" href="https://aloerina01.github.io/blog/2018-05-01-1">
            <span itemprop="name">メンテナンスしやすいVueComponentを設計するために気をつけていること</span>
            </a>
          <meta itemprop="position" content="3" />
        </li>
        
        </ol>
    </div>
  </div>
</header>

  <main class="page-content">
    <div class="post">
      <div class="post-header-container " >
        <div class="scrim ">
          <header class="post-header">
            <h1 class="title">メンテナンスしやすいVueComponentを設計するために気をつけていること</h1>
            <!-- <p class="info">by <strong></strong></p> -->
          </header>
        </div>
      </div>
      <div class="wrapper">
         <span class="page-divider">
  <span class="one"></span>
  <span class="two"></span>
</span>
 
        <section class="post-meta">
          <div class="post-date">2018-05-01</div>
          <div class="post-categories">
            
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="post-categories-icon" viewBox="0 0 16 16">
              <path d="M6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-1 0a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0z"/>
              <path d="M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1zm0 5.586l7 7L13.586 9l-7-7H2v4.586z"/>
            </svg>
             
            <a href="/category/javascript/">JavaScript</a>,    
            <a href="/category/vue/">Vue</a>   
          </div>
        </section>

        <article class="post-content">
          <h3 id="はじめに">はじめに</h3>
<p>VueをつかってWebアプリケーションを実装するとき、Componentをどう切るかって誰でも一度は悩みますよね(悩みますよね？)。とりあえず思いつくままに切ってみたり、繰り返し使いそうなもので切ってみたり、CSSのスコープで切ってみたり…。いろいろな切り口があると思います。</p>

<p>この「いろいろな切り口」でコンポーネントを切ることができる点が、コンポーネント設計を難しくしている所以だと考えています。</p>

<p>そこで今回は、<strong>どのような切り口・観点でコンポーネントを切ればよいのか</strong>、<strong>そのときに気をつけるべきことは何か</strong>、といったComponentの設計方法についてまとめてみます。<br />
すべての実用ケースを想定できているわけではないと思いますが、大小いくつかのWebアプリを開発する際に利用してみて今のところいい感じに運用できている方法です(というか自然と収束して出来上がった考え方という感じです)。</p>

<ul id="markdown-toc">
  <li><a href="#はじめに" id="markdown-toc-はじめに">はじめに</a></li>
  <li><a href="#基本の考え方は責務の分離" id="markdown-toc-基本の考え方は責務の分離">基本の考え方は「責務の分離」</a></li>
  <li><a href="#container-の責務" id="markdown-toc-container-の責務">Container の責務</a>    <ul>
      <li><a href="#1-画面の構成を表現すること" id="markdown-toc-1-画面の構成を表現すること">1. 画面の構成を表現すること</a></li>
      <li><a href="#2-他画面との関係性を表現すること" id="markdown-toc-2-他画面との関係性を表現すること">2. 他画面との関係性を表現すること</a></li>
    </ul>
  </li>
  <li><a href="#viewmodel-component-の責務" id="markdown-toc-viewmodel-component-の責務">ViewModel Component の責務</a></li>
  <li><a href="#view-component-の責務" id="markdown-toc-view-component-の責務">View Component の責務</a></li>
  <li><a href="#design-component-の責務" id="markdown-toc-design-component-の責務">Design Component の責務</a></li>
  <li><a href="#factory-component-の責務" id="markdown-toc-factory-component-の責務">Factory Component の責務</a></li>
  <li><a href="#higher-order-component-の責務" id="markdown-toc-higher-order-component-の責務">Higher-Order Component の責務</a></li>
  <li><a href="#おわりに" id="markdown-toc-おわりに">おわりに</a></li>
</ul>

<h3 id="基本の考え方は責務の分離">基本の考え方は「責務の分離」</h3>

<p>コンポーネントを切るときに心がけていることは<strong>責務を分けるためにコンポーネントを切る</strong>ということです。責務を分けるということは、「変更理由」「影響範囲」「役割」を明確にするということに繋がります。</p>

<p>ではVueのコンポーネントには具体的にどんな責務を持ち得るのか。リストアップしてみます。</p>

<ul>
  <li>「<strong>Container</strong>」の責務</li>
  <li>「Component」の責務
    <ul>
      <li>MVVMにおける「<strong>ViewModel</strong>」の責務</li>
      <li>Templateが肥大化したときに分割されつくられる「<strong>View</strong>」の責務</li>
      <li>「<strong>汎用UIパーツ</strong>」としての責務</li>
      <li>「<strong>動的コンポーネント(Factory)</strong>」としての責務</li>
      <li>「<strong>Higher-Order Component</strong>」の責務</li>
    </ul>
  </li>
</ul>

<p>現時点で私が必要だと感じているのは、これら、Containerの責務と5つのComponentの責務です。<br />
少し用語の補足をすると、1つの画面を表現するコンポーネントのことをこの記事ではReactにならって「<strong>Container</strong>」と呼びます(Vueの世界だと「View」や「Page」と呼ばれたりしていますが、曖昧なのでReactにならいます)。例えばブログを作る場合、「TopページContainer」「記事ページContainer」「カテゴリページContainer」などが考えられます。そしてContainer内に配置される(Containerの子コンポーネントとなる)コンポーネントのことを「<strong>Component</strong>」と表記します。</p>

<p>では、これらの責務がどんなものなのか考えていきます。</p>

<h3 id="container-の責務">Container の責務</h3>

<p>Containerの責務とはざっくり言うと<strong>①画面の構成を表現すること</strong>、<strong>②他画面との関係性を表現すること</strong>、の2つです。掘り下げると以下のような機能・役割が考えられます。</p>

<h4 id="1-画面の構成を表現すること">1. 画面の構成を表現すること</h4>

<ul>
  <li>画面内に配置するComponentを定義する<br />
(Templateを見れば画面内にどんなComponentが並ぶのかが分かる)</li>
  <li>画面全体で必要なModelやStateを管理する<br />
(<code class="language-plaintext highlighter-rouge">data</code>と<code class="language-plaintext highlighter-rouge">computed</code>を見ればどんなデータを扱うのかが分かる)</li>
  <li>画面内で共通の処理を定義する<br />
(<code class="language-plaintext highlighter-rouge">methods</code>を見れば共通のロジックが分かる)</li>
  <li>Component間のイベントバスになる<br />
(子ComponentAのイベントをトリガーに子ComponentBの状態を変える、等)</li>
</ul>

<h4 id="2-他画面との関係性を表現すること">2. 他画面との関係性を表現すること</h4>

<ul>
  <li>画面同士でデータや状態のやりとりを行う</li>
  <li>ルーティング処理を定義する</li>
  <li>vue-routerがurlと紐付けるコンポーネントとなる</li>
</ul>

<p>Containerは1画面に1つと基準が明確なので、コンポーネントを切るときにはあまり困らないです。が、機能を実装する際に「これは本当にContainerが持つべきもものか」を意識していないと、<code class="language-plaintext highlighter-rouge">data</code>や<code class="language-plaintext highlighter-rouge">methods</code>はどんどん肥大化してしまいます。言い換えれば「とりあえずContainerに実装しておけば動く」という機能が多いということです。<br />
なので画面に機能を足すときには、後述する各Componentに機能を移譲できないか？ を常に検討するようにし、Containerの責務を必要最低限を保つようにしています。</p>

<h3 id="viewmodel-component-の責務">ViewModel Component の責務</h3>
<p>ここからはContainer内に配置するComponentについてのパターンです。<br />
Vueは双方向バインディングができることから、MVVMな設計で利用されることがよくあります。<a href="/blog/2017-08-29-1">Vue+VuexでMVVMなWebApplicationを設計するときに考えたいこと</a>の記事にも書きましたが、Vueのコンポーネントは<strong>MVVMのV(View)とVM(ViewModel)の機能を併せ持っています</strong>。簡単に言えば単一コンポーネントの<code class="language-plaintext highlighter-rouge">&lt;template&gt;</code>の部分がViewで、<code class="language-plaintext highlighter-rouge">&lt;script&gt;</code>の部分がViewModelという感じです。</p>

<p>つまりComponentは、標準で<strong>ViewModel(とView)の責務を持っている</strong>ということです。<br />
ここでViewModelの役割を見直してみます。</p>

<ul>
  <li>PresentationロジックとStateを持つ</li>
  <li>Modelに依存する</li>
  <li>Modelを監視する</li>
  <li>Viewと双方向データバインディングする</li>
</ul>

<p>といったことが挙げられます。これをVueの言葉で言い換えると</p>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">methods</code>にコンポーネントを操作するロジックを持つ</strong></li>
  <li><strong><code class="language-plaintext highlighter-rouge">data</code>, <code class="language-plaintext highlighter-rouge">computed</code>にコンポーネントのStateを定義する</strong></li>
  <li><strong><code class="language-plaintext highlighter-rouge">data</code>, <code class="language-plaintext highlighter-rouge">computed</code>にコンポーネントに必要なModelを定義し、リアクティブに更新する</strong></li>
  <li><strong>Templateに<code class="language-plaintext highlighter-rouge">data</code>や<code class="language-plaintext highlighter-rouge">computed</code>で定義した値を反映する、また<code class="language-plaintext highlighter-rouge">v-model</code>等でTemplateの変更を検知する</strong></li>
</ul>

<p>となります。これらが過不足なく実装されていると、ViewModelとしての責務を持つComponentだと言えそうです。</p>

<p>では過不足なくとはどういう状態か。<br />
これはViewModelの設計の粒度に依るので正解はないと思いますが、ViewModel Component各々が1機能ずつ責務を担っていて、その粒度が揃っていればいいと思います。</p>

<p>これができているか確認するのは案外簡単で、ViewModel Componentの名前をリストアップしてみたときに、「<strong>名前から責務が分かるか</strong>」「<strong>その粒度が同程度に見えるか</strong>」で判断できます。責務は1つなのでそれが適切に名前に反映されていれば合格で、もし反映できないなら責務を持ちすぎていている可能性があります。<br />
(Componentを細かく切りすぎてしまって責務のないComponentができているケースもたまにありますが、個人的に多い例は責務を持ちすぎているパターンです……)</p>

<p>Vueのコンポーネントは、Vueの仕様的に見てもそれ単体で動作するように実装できる仕様であり、MVVM的に見てもViewModelはそれ単体で1つの機能を実現するものです。そのためVueのコンポーネントは、<strong>基本的にはそれ単体で動くViewModel Componentとして切るのが良い</strong>と思います。</p>

<p>ただそれだけだと対応できないパターンがいくつかあるので、そのために以下に別パターンのComponentの切り方を用意しています。</p>

<h3 id="view-component-の責務">View Component の責務</h3>
<p>コンポーネントのTemplateを書いていると、ループ対象を別コンポーネントとして抜き出したい場合や、Templateがでかすぎるので分割したい場合などがあると思います。こういった例で使えるのがView Componentです。</p>

<p>View ComponentはReactのように<strong>ステートレスなコンポーネントで、親コンポーネントから受け取る<code class="language-plaintext highlighter-rouge">props</code>のみで動作させます</strong>。そのため、基本的には<code class="language-plaintext highlighter-rouge">methods</code>や<code class="language-plaintext highlighter-rouge">data</code>は定義しません。</p>

<p>親から受け取ったものをTemplateにはめ込んで表示し、親から受け取った関数をたたく。それだけの責務を持つこのComponentは、<strong>独自のViewのみを持ちViewModelを持たないComponent</strong>だと言えます。</p>

<p>このView Componentを実装するときに意識していることは、このコンポーネントが「親の一部である」ということです。親のTemplateを分割しただけのものであるということを意識し、ロジックを実装したり過剰に機能を持たせたりしないように注意しています。それができない場合は、コンポーネントの切り方が間違っている可能性を疑います。<br />
例外はあるかもしれませんが、多くの場合は切り方を変えることで解決します。</p>

<h3 id="design-component-の責務">Design Component の責務</h3>

<p>これはView Componentの亜種で、実装の仕方はView Componentと同様です。つまりステートレスで<code class="language-plaintext highlighter-rouge">props</code>を受け取って動作します。</p>

<p>ただ目的が違い、View Componentが親のTemplate分割を目的に作られるのに対し、こちらは<strong>UIパーツのデザイン共通化を目的に作られます</strong>。アプリ内でLabel付きButtonのUIを統一したい、ダイアログのUIを統一したい、といった場合に作られます。</p>

<p>そのため、粒度の小さいパーツはTemplateと<code class="language-plaintext highlighter-rouge">props</code>をHTML標準のタグと同じ状態にしておくと、使うときに楽だったり後々置き換えが効いたりして便利です。</p>

<h3 id="factory-component-の責務">Factory Component の責務</h3>

<p>今までのコンポーネントとは性質が少し違い、<strong>表示するComponentを動的に切り替える機能を持つComponentがFactory Component</strong>です。  具体的には以下のような役割を持ちます。</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">props</code>でtypeを受け取る</li>
  <li><a href="https://jp.vuejs.org/v2/api/#is">v-bind:is</a>を使ってtypeに応じたComponentをレンダリングする</li>
  <li>描画するComponentたちの<code class="language-plaintext highlighter-rouge">props</code>を抽象化する</li>
</ul>

<p>漠然としていてピンとこないかもしれないのでサンプルコードを載せます。</p>

<p><strong>&lt;template&gt;</strong></p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;component</span> <span class="na">:is=</span><span class="s">"componentName"</span> <span class="na">:componentData=</span><span class="s">"componentData"</span> <span class="nt">/&gt;</span>
</code></pre></div></div>

<p><strong>&lt;script&gt;</strong></p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="na">props</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="na">componentData</span><span class="p">:</span> <span class="nb">Object</span> <span class="p">},</span>
  <span class="na">components</span><span class="p">:</span> <span class="p">{</span> <span class="nx">componentA</span><span class="p">,</span> <span class="nx">componentB</span> <span class="p">},</span>
  <span class="na">computed</span><span class="p">:</span> <span class="p">{</span>
    <span class="nx">componentName</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">switch</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">A</span><span class="dl">'</span><span class="p">:</span>
          <span class="k">return</span> <span class="dl">'</span><span class="s1">component-a</span><span class="dl">'</span><span class="p">;</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">B</span><span class="dl">'</span><span class="p">:</span>
        <span class="na">default</span><span class="p">:</span>
          <span class="k">return</span> <span class="dl">'</span><span class="s1">component-b</span><span class="dl">'</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">props</code>で受け取ったtypeに応じて、描画するComponentを<code class="language-plaintext highlighter-rouge">v-bind:is</code>で切り替えています。switch文を使っていますが、type名がそのままComponent名となるようにしてもいいですし、Factory Methodっぽくしてもいいと思います。</p>

<p>また、どのComponentにも<code class="language-plaintext highlighter-rouge">componentData</code>を渡しています。この部分が<code class="language-plaintext highlighter-rouge">props</code>の抽象化です。抽象化しているので、Factory Componentを呼び出している側はどのComponentが描画されるのかを気にする必要がなくなりますね。</p>

<h3 id="higher-order-component-の責務">Higher-Order Component の責務</h3>

<p>Componentを引数にとり新たなComponentを返す関数、言い換えると<strong>Componentを様々な方法で再利用できる仕組みがHigher-Order Component</strong>です。Reactにも同じ概念がありますね。実装方法の差はあれど、責務は似ています。</p>

<ul>
  <li>Factoryとなり、表示するComponentを動的に切り替える</li>
  <li>ComponentをWrapし、Decoratorパターンのように機能を追加する</li>
  <li><code class="language-plaintext highlighter-rouge">props</code>をproxyし、加工する</li>
</ul>

<p>このようなことができます(他にもいろいろできます)。<br />
これはやろうとすればかなりトリッキーなこともできる仕組みで、また(抽象レイヤーであるために)責務が曖昧になりやすいので、個人的にはなるべく使わないようにしています。</p>

<h3 id="おわりに">おわりに</h3>

<p>Containerとしての責務と、Componentとしての責務5パターンをまとめました。<br />
これら以外にも様々な切り口があると思いますが、現時点で自分の中で有用だと思うものを整理してみました。ディスカッションのたたき台にでもなればと思いますので、ご感想・ご意見がありましたらぜひ<a href="https://twitter.com/aloerina_">@aloerina_</a>まで。</p>

        </article>

          

        <section class="share">
  <div class="share-inner">
    <div class="share-description">
      <span>感想をシェアする</span>
    </div>
    <div class="share-panel">
      <a
        href="http://b.hatena.ne.jp/entry/"
        class="hatena-bookmark-button share-button share-button-hatebu"
        data-hatena-bookmark-layout="touch"
        data-hatena-bookmark-width="38"
        data-hatena-bookmark-height="38"
        title="このエントリーをはてなブックマークに追加"
        style="
          border-radius: 50%;
          width: 38px;
          height: 38px;
          box-shadow: 1px 1px 10px #bbb;
          background-color: #00a4de;
          transition: all 0.4s ease;
        "
      >
        <img
          src="https://b.st-hatena.com/images/entry-button/button-only@2x.png"
          alt="このエントリーをはてなブックマークに追加"
          width="16"
          height="16"
        />
      </a>
      <script
        type="text/javascript"
        src="https://b.st-hatena.com/js/bookmark_button.js"
        charset="utf-8"
        defer
      ></script>
        
      <a
        class="share-button share-button-x"
        href="//twitter.com/share?text=%E3%83%A1%E3%83%B3%E3%83%86%E3%83%8A%E3%83%B3%E3%82%B9%E3%81%97%E3%82%84%E3%81%99%E3%81%84VueComponent%E3%82%92%E8%A8%AD%E8%A8%88%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AB%E6%B0%97%E3%82%92%E3%81%A4%E3%81%91%E3%81%A6%E3%81%84%E3%82%8B%E3%81%93%E3%81%A8&url=https://aloerina01.github.io/blog/2018-05-01-1&via=aloerina_&hashtags=JavaScript,Vue,mfcode"
        onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;"
      >
        <svg
          version="1.1"
          id="svg5"
          xmlns:svg="http://www.w3.org/2000/svg"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="0 0 1668.56 1221.19"
          style="enable-background: new 0 0 1668.56 1221.19"
          xml:space="preserve"
          width="38"
          height="38"
        >
          <style type="text/css">
            .st0 {
              stroke: #ffffff;
              stroke-miterlimit: 10;
            }
            .st1 {
              fill: #ffffff;
            }
          </style>
          <g>
            <g id="layer1" transform="translate(52.390088,-25.058597)">
              <path
                id="path1009"
                class="st1"
                d="M485.39,356.79l230.07,307.62L483.94,914.52h52.11l202.7-218.98l163.77,218.98h177.32
                L836.82,589.6l215.5-232.81h-52.11L813.54,558.46L662.71,356.79H485.39z M562.02,395.17h81.46l359.72,480.97h-81.46L562.02,395.17
                z"
              />
            </g>
          </g>
        </svg>
      </a>
                
      <a
        class="share-button share-button-facebook"
        href="//www.facebook.com/sharer.php?t=%E3%83%A1%E3%83%B3%E3%83%86%E3%83%8A%E3%83%B3%E3%82%B9%E3%81%97%E3%82%84%E3%81%99%E3%81%84VueComponent%E3%82%92%E8%A8%AD%E8%A8%88%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AB%E6%B0%97%E3%82%92%E3%81%A4%E3%81%91%E3%81%A6%E3%81%84%E3%82%8B%E3%81%93%E3%81%A8&u=https://aloerina01.github.io/blog/2018-05-01-1"
        onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;"
      >
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M9.19795 21.5H13.198V13.4901H16.8021L17.198 9.50977H13.198V7.5C13.198 6.94772 13.6457 6.5 14.198 6.5H17.198V2.5H14.198C11.4365 2.5 9.19795 4.73858 9.19795 7.5V9.50977H7.19795L6.80206 13.4901H9.19795V21.5Z"
            fill="currentColor"
          />
        </svg>
      </a>
                                                                                                                                        
      <a
        class="share-button share-button-pocket"
        href="//getpocket.com/edit?url=https://aloerina01.github.io/blog/2018-05-01-1"
        target="_blank"
      >
        <img src="/assets/thirdparty/pocket.png" alt="Save to Pocket" loading="lazy" />
      </a>
                
      <a
        class="share-button share-button-line"
        target="_blank"
        href="//line.me/R/msg/text/?%E3%83%A1%E3%83%B3%E3%83%86%E3%83%8A%E3%83%B3%E3%82%B9%E3%81%97%E3%82%84%E3%81%99%E3%81%84VueComponent%E3%82%92%E8%A8%AD%E8%A8%88%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AB%E6%B0%97%E3%82%92%E3%81%A4%E3%81%91%E3%81%A6%E3%81%84%E3%82%8B%E3%81%93%E3%81%A8%0D%0Ahttps%3A%2F%2Faloerina01.github.io%2Fblog%2F2018-05-01-1"
      >
        <img src="/assets/thirdparty/linebutton.png" alt="LINEで送る" loading="lazy" />
      </a>
       
    </div>
  </div>
</section>


        <section class="post-donation">
  <div class="post-donation-panel">
    <span class="post-donation-description">
      執筆時のコーヒーで応援する
    </span>
    <a class="donation-button" href="https://www.amazon.jp/hz/wishlist/ls/2B61O6E56WG47?ref_=wl_share" target="_blank" rel="noopener noreferrer" onClick="ga('send', 'event', 'click_buymeacoffee', 'post')">
      <p class="button-body">
        <img class="icon" alt="buymeacoffee" src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg"></img>
        <span class="label">欲しいものリストから贈る</span>
      </p>
    </a>
  </div>
</section>

         

      </div>
    </div>

  </main>

  
    <section class="sub-contents related-posts">
  <div class="sub-contents-wrapper">
    <div class="sub-contents-title">
      <h3>あわせて読みたい</h3>
      <hr>
    </div>
    <div class="sub-contents-main">
      
      <li><a href="/blog/2025-09-18-1">”資料を渡すだけ”から脱却して効果的なオンボーディングにするための改善事例</a></li>
      
      <li><a href="/blog/2025-08-04-1">議論を“立て直す”ときに使える、力点と作用点を効かせるファシリテーション</a></li>
      
      <li><a href="/blog/2025-05-12-1">1on1再入門 - “傾聴する”から”好奇心を持って問いを設計する”へ</a></li>
      
      <li><a href="/blog/2025-05-07-1">“我々はなぜここにいるのか”の問いを手放した理由 - 心の発達理論から学ぶEMの問いの設計</a></li>
      
      <li><a href="/blog/2025-03-31-1">「若手が育っていない」「優秀な人に負担が偏っている」と感じたときに立ち返ること</a></li>
      
    </div>
  </div>
</section>

  

  <section class="sub-contents profile-bar">
  <div class="sub-contents-wrapper profile-bar-wrapper">
    <div class="sub-contents-title">
      <h3>Profile</h3>
      <hr>
    </div>
    <div class="sub-contents-main profile-bar-main">
      <div class="profile-image">
        <img src="/assets/profile_v4.jpg" alt="" loading="lazy">
      </div>
      <div class="profile-content">
        <div class="profile-content-name"><p>aloerina</p></div>
        <div class="profile-content-description">
          <p>
            <span>Webフロントエンド開発、エンジニアリングマネジメント、スクラムマスターなどをしています。趣味でドット絵グッズをつくっています。</span>
          </p>
        </div>
        <div class="profile-content-sns">
          <a target="_blank" href="https://twitter.com/aloerina_" rel="noopener noreferrer" class="sns-icon sns-icon-x">
            <svg xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 512 462.799"><path fill="#fff" fill-rule="nonzero" d="M403.229 0h78.506L310.219 196.04 512 462.799H354.002L230.261 301.007 88.669 462.799h-78.56l183.455-209.683L0 0h161.999l111.856 147.88L403.229 0zm-27.556 415.805h43.505L138.363 44.527h-46.68l283.99 371.278z"/></svg>
          </a>
          <a target="_blank" href="https://www.instagram.com/pixtrium/" rel="noopener noreferrer" class="sns-icon">
            <svg xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 512 512"><path fill="#fff" fill-rule="nonzero" d="M170.663 256.157c-.083-47.121 38.055-85.4 85.167-85.483 47.121-.092 85.407 38.03 85.499 85.16.091 47.129-38.047 85.4-85.176 85.492-47.112.09-85.399-38.039-85.49-85.169zm-46.108.091c.141 72.602 59.106 131.327 131.69 131.186 72.592-.141 131.35-59.09 131.209-131.692-.141-72.577-59.114-131.335-131.715-131.194-72.585.141-131.325 59.115-131.184 131.7zm237.104-137.091c.033 16.953 13.817 30.681 30.772 30.648 16.961-.033 30.689-13.811 30.664-30.764-.033-16.954-13.818-30.69-30.78-30.657-16.962.033-30.689 13.818-30.656 30.773zm-208.696 345.4c-24.958-1.087-38.511-5.234-47.543-8.709-11.961-4.629-20.496-10.178-29.479-19.094-8.966-8.95-14.532-17.46-19.202-29.397-3.508-9.032-7.73-22.569-8.9-47.527-1.269-26.982-1.559-35.077-1.683-103.432-.133-68.339.116-76.434 1.294-103.441 1.069-24.942 5.242-38.512 8.709-47.536 4.628-11.977 10.161-20.496 19.094-29.479 8.949-8.982 17.459-14.532 29.403-19.202 9.025-3.525 22.561-7.714 47.511-8.9 26.998-1.277 35.085-1.551 103.423-1.684 68.353-.132 76.448.108 103.456 1.295 24.94 1.086 38.51 5.217 47.527 8.709 11.968 4.628 20.503 10.144 29.478 19.094 8.974 8.95 14.54 17.443 19.21 29.412 3.524 9 7.714 22.553 8.892 47.494 1.285 26.999 1.576 35.095 1.7 103.433.132 68.355-.117 76.451-1.302 103.441-1.087 24.958-5.226 38.52-8.709 47.561-4.629 11.952-10.161 20.487-19.103 29.471-8.941 8.949-17.451 14.531-29.403 19.201-9.009 3.517-22.561 7.714-47.494 8.9-26.998 1.269-35.086 1.559-103.448 1.684-68.338.132-76.424-.125-103.431-1.294zM149.977 1.773c-27.239 1.285-45.843 5.648-62.101 12.018-16.829 6.561-31.095 15.354-45.286 29.604C28.381 57.653 19.655 71.944 13.144 88.79c-6.303 16.299-10.575 34.912-11.778 62.168C.172 178.264-.102 186.973.031 256.489c.133 69.508.439 78.234 1.741 105.547 1.302 27.231 5.649 45.828 12.019 62.093 6.569 16.83 15.353 31.088 29.611 45.288 14.25 14.201 28.55 22.918 45.404 29.438 16.282 6.295 34.902 10.583 62.15 11.778 27.305 1.203 36.022 1.468 105.521 1.335 69.532-.132 78.25-.439 105.555-1.733 27.239-1.303 45.826-5.665 62.1-12.019 16.829-6.586 31.095-15.353 45.288-29.611 14.191-14.251 22.917-28.55 29.428-45.405 6.304-16.282 10.592-34.903 11.777-62.134 1.195-27.322 1.478-36.048 1.344-105.556-.133-69.516-.447-78.225-1.741-105.523-1.294-27.255-5.657-45.844-12.019-62.118-6.577-16.829-15.352-31.079-29.602-45.287-14.25-14.192-28.55-22.935-45.404-29.429-16.29-6.305-34.903-10.601-62.15-11.779C333.747.164 325.03-.102 255.506.031c-69.507.133-78.224.431-105.529 1.742z"/></svg>
          </a>
          
        </div>
      </div>
    </div>
  </div>
</section>
  
  <section class="sub-contents tag-list">
  <div class="sub-contents-wrapper tag-list-wrapper">
    <div class="sub-contents-title">
      <h3>Tags</h3>
      <hr>
    </div>
    <div class="sub-contents-main">
      
        
        
        <a href="/category/jekyll/">Jekyll</a>
      
        
        
        <a href="/category/javascript/">JavaScript</a>
      
        
        
        <a href="/category/webpack/">Webpack</a>
      
        
        
        <a href="/category/environment/">Environment</a>
      
        
        
        <a href="/category/seo/">SEO</a>
      
        
        
        <a href="/category/qualityassurance/">QualityAssurance</a>
      
        
        
        <a href="/category/css/">CSS</a>
      
        
        
        <a href="/category/yarn/">Yarn</a>
      
        
        
        <a href="/category/react/">React</a>
      
        
        
        <a href="/category/vue/">Vue</a>
      
        
        
        <a href="/category/hyperapp/">Hyperapp</a>
      
        
        
        <a href="/category/vuex/">Vuex</a>
      
        
        
        <a href="/category/babel/">Babel</a>
      
        
        
        <a href="/category/exp/">EXP</a>
      
        
        
        <a href="/category/shell/">shell</a>
      
        
        
        <a href="/category/dart/">Dart</a>
      
        
        
        <a href="/category/flutter/">Flutter</a>
      
        
        
        <a href="/category/flux/">Flux</a>
      
        
        
        <a href="/category/algolia/">algolia</a>
      
        
        
        <a href="/category/mobprogramming/">MobProgramming</a>
      
        
        
        <a href="/category/management/">Management</a>
      
        
        
        <a href="/category/coaching/">Coaching</a>
      
        
        
        <a href="/category/grareco/">GraReco</a>
      
        
        
        <a href="/category/githubactions/">GitHubActions</a>
      
        
        
        <a href="/category/retrospective/">Retrospective</a>
      
        
        
        <a href="/category/facilitation/">Facilitation</a>
      
        
        
        <a href="/category/scrum/">Scrum</a>
      
        
        
        <a href="/category/psychologicalsafety/">PsychologicalSafety</a>
      
        
        
        <a href="/category/typescript/">TypeScript</a>
      
        
        
        <a href="/category/chromeextension/">ChromeExtension</a>
      
        
        
        <a href="/category/esbuild/">esbuild</a>
      
        
        
        <a href="/category/agile/">Agile</a>
      
        
        
        <a href="/category/onboarding/">Onboarding</a>
      
    </div>
  </div>
</section>

  <section class="sub-contents donation">
  <div class="sub-contents-wrapper donation-wrapper">
    <h3>BUY ME A COFFEE</h3>
    <p class="donation-description">記事執筆時のコーヒーをごちそういただけると励みになります。</p>
    <div class="donation-button-area">
        <a class="donation-button" href="https://www.amazon.jp/hz/wishlist/ls/2B61O6E56WG47?ref_=wl_share" target="_blank" rel="noopener noreferrer" onClick="ga('send', 'event', 'click_buymeacoffee', 'site')">
          <p class="button-body">
            <img class="icon" alt="buymeacoffee" src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" loading="lazy"></img>
            <span class="label">欲しいものリストから贈る</span>
          </p>
        </a>
    </div>
  <div>
</section>
  
  <footer class="sub-contents site-footer-v2">
  <div class="sub-contents-wrapper site-footer-v2-wrapper">
    <div class="footer-v2-main">
      <div class="site-values">
        <a href="/" class="site-values-title">Feel and Code (formerly: mille-feuille code)</a>
        <p class="site-values-anotation">
          <span>since 2016 aloerina All Rights Reserved.</span><br>
          <span>サイト内のリンクにはアフェリエイトリンクが含まれる場合があります。</span>
        </p>
      </div>
      <div class="site-designs">
        <p>Published on <a target="_blank" href="https://github.com/aloerina01/aloerina01.github.io" rel="noopener noreferrer">GitHub</a></p>
      </div>
    </div>
  </div>
</footer>

  <script>
  window.addEventListener('DOMContentLoaded', function() {
    // Header
    var CLASS_MENU_SHOW = 'show';
    var navigationMenu = document.getElementById('js-navigation-menu');
    var menuIcon = document.getElementById('js-mobile-menu-icon');
    menuIcon.addEventListener('click', function(e) {
      e.preventDefault();
      navigationMenu.classList.toggle(CLASS_MENU_SHOW);
    });
  });
  </script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/algoliasearch/3.35.1/algoliasearch.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.1/autocomplete.min.js"></script>
<script src="/dist/algolia.js" async></script>

</body>

</html>