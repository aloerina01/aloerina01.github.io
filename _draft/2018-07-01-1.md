---
title: WebフロントエンジニアがDart × Flutterに入門してみて感じたこと
categories: [Dart, Flutter]
outline: 
---

Flutterとは、Dartという言語でモバイルアプリを開発するためのSDKです。iOSアプリとAndroidアプリを同じコードベースで実装できるとのことで、ふだんはWebアプリを開発している私にもとっつきやすそうなので入門してみました。

一通り入門が済んだので、どうやって入門したか、入門してみてどうだったか、WebエンジニアにとってFlutter・Dartに期待することなどをまとめました。

### 基礎知識

#### [Dart](https://www.dartlang.org/)とは

* Googleが開発している言語
* JavaやJavaScriptに似たシンタックス
* 型を付けても付けなくても書ける
* DartVM上で動く
* JavaScriptにコンパイルできる

Dartでどんな書き方ができるのかは[Language Tour](https://www.dartlang.org/guides/language/language-tour)をさらっと眺めるだけでも結構把握することができると思います。普段JavaScriptを使っている人なら、すぐに書けそうなワクワク感も味わえるかも(私がそうでした)。


#### [flutter](https://flutter.io/)とは

* iOSとAndroidアプリを開発するためのSDK
* マテリアルデザインに則ったUIパーツを標準提供
* hot reloadでサクサクアプリ開発できる

Webフロントエンドの人が気になるところは「React Nativeとどう違うの？」という点かもしれません。私が入門してみて感じた大きな違いは
* FlutterにはOSのガイドラインに則ったUIパーツ(Widget)が**公式に**用意されていてすごい
* Widgetを組み合わせるだけで一般的な画面はだいたい作れそう
* 画面の構成技術がHTML&CSSとはかなり違うため、慣れるまでかなりツライ(詳細後述します)

こんな感じです。どんなWidgetがあるかを把握し使いこなせれば高速に開発できる反面、慣れるまで(暗記するまで)がけっこうしんどい…という所感です。

### 入門の仕方

#### 概要
公式ドキュメントが丁寧に作られているので、それに沿っていくだけで開発環境の準備ができます。私はMac × Visual Studio Codeで開発したかったので、ざっくり以下のことをしました。

1. Dart SDKのインストール(参考：[Install Dart](https://www.dartlang.org/tools/sdk))
2. Flutterのインストール(参考：[Get Started: Install - Flutter](https://flutter.io/get-started/install/))
3. 開発したいアプリのOSに応じてXCode, Android Studioのインストール
4. VSCode用の[Dartプラグイン](https://marketplace.visualstudio.com/items?itemName=Dart-Code.dart-code)、[Flutterプラグイン](https://marketplace.visualstudio.com/items?itemName=franzsilva.fs-flutter-snippets)のインストール

Flutterの公式ドキュメントにはエディタの設定の方法まで書いてあり、VSCode以外にもAndroid Studioでの設定方法が載っています。Androidアプリ開発者、Webアプリ開発者の両方にスムーズに使ってもらうことを想定しているのでしょうか(ありがたいですね)。

#### ハンズオン

##### Dart SDKのインストール

```shell
$ brew tap dart-lang/dart
$ brew install dart --with-content-shell --with-dartium
```

##### Flutterのインストール

[Get Started: Install - Flutter](https://flutter.io/get-started/install/)からzipを落とし展開しPATHを通します。そのあとは

```shell
$ flutter doctor
```

このコマンドを叩くと、Flutterの開発に必要なものが揃っているかどうか、揃えるために次に何をすればいいのかを教えてくれます。

```
Doctor summary (to see all details, run flutter doctor -v):
[- [x] ] Flutter (Channel beta, v0.4.4, on Mac OS X 10.12.6 16G1212, locale ja-JP)
[✗] Android toolchain - develop for Android devices
**✗ Unable to locate Android SDK.**
**Install Android Studio from: https://developer.android.com/studio/index.html**
**On first launch it will assist you in installing the Android SDK components.**
**(or visit https://flutter.io/setup/#android-setup for detailed instructions).**
**If Android SDK has been installed to a custom location, set $ANDROID_HOME to that location.**
[!] iOS toolchain - develop for iOS devices
**✗ Xcode installation is incomplete; a full installation is necessary for iOS development.**
**Download at: https://developer.apple.com/xcode/download/**
**Or install Xcode via the App Store.**
**Once installed, run:**
**sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer**
**✗ libimobiledevice and ideviceinstaller are not installed. To install, run:**
**brew install --HEAD libimobiledevice**
**brew install ideviceinstaller**
**✗ ios-deploy not installed. To install:**
**brew install ios-deploy**
**✗ CocoaPods not installed.**
**CocoaPods is used to retrieve the iOS platform side's plugin code that responds to your plugin usage on the Dart side.**
**Without resolving iOS dependencies with CocoaPods, plugins will not work on iOS.**
**For more info, see https://flutter.io/platform-plugins**
**To install:**
**brew install cocoapods**
**pod setup**
[✗] Android Studio (not installed)
[!] VS Code (version 1.23.1)
[!] Connected devices
    ! No devices available

! Doctor found issues in 5 categories.
```

このコマンドが大変ありがたく、その後も躓いたらとりあえず`flutter doctor`を叩くと何かしら前に進みました。開発環境の構築で躓くのは入門あるあるだと思うので、Flutterの心強いに感謝するばかりです。

##### VSCodeプラグインのインストール

[Dartプラグイン](https://marketplace.visualstudio.com/items?itemName=Dart-Code.dart-code)、[Flutterプラグイン](https://marketplace.visualstudio.com/items?itemName=franzsilva.fs-flutter-snippets)をインストールしたものの、VSCodeのコマンドパレットから`Flutter: New Project`をしようとしたらFlutter SDKがないと怒られました。設定にFlutterの所在を追記することで解決。

```
"dart.flutterSdkPath": "/Users/aloerina/flutter"
```

ちなみにNew ProjectでつくられたディレクトリにはHelloWorld的なコードが最初から入っていました。


### 入門してみてどうだったか

#### Dart言語について
* 本当にすぐに読み書きできる
* 学習コストほぼゼロ
* 

#### 開発環境について

* セッティングが楽
* doctorコマンドいい
* すぐにアプリ開発に着手できた
* hotreloadいい

#### Flutterについて



	- いいところ 
		- 新しい言語なのにすぐに書ける
		- documentが充実している
		- Tutorialも充実している
		- MaterialUIのパーツがほぼ全てある
		- [Effective Dart](https://www.dartlang.org/guides/language/effective-dart)も読み応えある
		- 公式資料がとにかくいい
	- 難易度
	- 期待すること
		- 新しい言語なのにすぐに書ける
		- つまりすぐにアプリを作れる
		- WebのHotリロードで即時反映など、Webの開発感でできる
		- アプリのビルドとか詳しく知らない部分を棚上げできる
	- 残念なところ
		- HTML・CSS書いていた人には違和感
		- 


どう入門するのが良いか
	* 好奇心を掻き立ててモチベーションを爆上するスライド
	* 写経するとあっという間にサンプルアプリができちゃうチュートリアル
	* Widgetの概念を理解できるLayoutのdocument
	* Stateの概念を理解できるStateless/Statefulのdocument


参考リンク

[^1]: Dart × Flutterでどんなことができるのかを知るにはこちらの[スライド](https://adwd.github.io/dart-flutter-slide/#/)が最高です。これさえ読めば十分でした。