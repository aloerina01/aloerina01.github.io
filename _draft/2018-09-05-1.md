---
title: React+Fluxを正しく使いこなすための設計入門
outline: Action、Store、Dispatcher…よく聞くFluxの登場人物ですが、これらの責務とは何か。どう実装するのが良いのか。「なんとなく理解している」から「ちゃんと理解している」にステップアップするために整理したことを書き起こしました。
categories: ['React', 'Flux']
---

Reactの良さを活かしやすいFluxは、Webアプリケーションの設計手法としてずいぶん馴染みのあるものになったように感じます。私もFluxを取り入れた開発を2年近く継続し、知見も溜まり、使い慣れたような感覚でいました。

が、使い始めた頃はもちろん、今でも何となく分かったつもりでいる部分があったり、複雑な実装が必要な場面で悩むことがあったりします。「Fluxはダメだ！うまく実現できない！」と放り出したくなるときもありますが、そんなときこそ基礎への立ち返る機会。  
そんなわけでFluxに再入門し、**Fluxとは何なのか、どう実装するのが適切なのか**を公式ドキュメントに則って整理してみようと思います。

* TOC
{:toc}

### Fluxの基本思想 / Fluxの分かりにくいところ

(がぞう)
出典

Fluxと言えばコレですね。これはFluxの**データの流れ**を表現した図です。よくMV*の図と比較されたりしますが、あちらは依存関係などを表現していることもあるので要注意です。この図が表現していることは**「Fluxはデータの流れを一方向に強制する」**ということです。これがFluxの基本思想です。

#### MV*と対比で見るメリット・デメリット

MVCではある処理をする際、Controllerが処理の窓口となり、「まずViewにローディングアイコンを出し、次にモデルのデータを更新し、それをViewに反映し…」と宣言的に記述していくことになります。これだと規模が大きくなるにつれ複雑になっていったり、フロントの要件とは相性が悪かったりするので、一部をイベント駆動にしたりデータの持ち方を変えてみたりと試行錯誤した結果が、MV*なのだと認識しています。





* データフローを単方向にすること
* イベントドリブンだけど、普通のPub/Subじゃなくて全イベントを全コールバックに投げる
* StoreはStateの保持と「ロジック」を持つもの



### Action



### Dispather



### Store




### View


